<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Masking a value or envvar in the GHA log. — octo_mask_value • octolog</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Masking a value or envvar in the GHA log. — octo_mask_value"><meta property="og:description" content="This will mask either a value or an envvar and prevent them (or their
content) from showing up in the GitHub Actions log.
 ATTENTION: Currently the masking of envvar values will only take
effect in the NEXT step of the workflow. Values that are masked
directly are masked immediately. This is not very clear in the GitHub Docs
but very important."><meta name="robots" content="noindex"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">octolog</a>
        <span class="version label label-danger" data-toggle="tooltip" data-placement="bottom" title="In-development version">0.1.1.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../articles/octolog.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/assignUser/octolog/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Masking a value or envvar in the GHA log.</h1>
    <small class="dont-index">Source: <a href="https://github.com/assignUser/octolog/blob/HEAD/R/commands.R" class="external-link"><code>R/commands.R</code></a></small>
    <div class="hidden name"><code>octo_mask_value.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>This will mask either a <code>value</code> or an envvar and prevent them (or their
content) from showing up in the GitHub Actions log.
<br><em><strong>ATTENTION</strong></em>: Currently the masking of envvar values will only take
effect in the <em><strong>NEXT</strong></em> step of the workflow. Values that are masked
directly are masked immediately. This is not very clear in the GitHub Docs
but very important.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="fu">octo_mask_value</span><span class="op">(</span><span class="va">value</span><span class="op">)</span>

<span class="fu">octo_mask_envvar</span><span class="op">(</span><span class="va">name</span><span class="op">)</span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>value</dt>
<dd><p>A single value to mask, coercible to string.</p></dd>


<dt>name</dt>
<dd><p>Name of the envvar to mask.</p></dd>

</dl></div>
    <div id="details">
    <h2>Details</h2>
    <p>The masking is not restricted to R output, rather it will work for
any logged output. For a practical demonstration please see the
<a href="https://github.com/assignUser/octolog/actions/workflows/test-octolog.yaml" class="external-link">octolog example workflow</a></p>
<p>Additionally some values and envvars will be masked automatically by github,
though this behavior is poorly documented. It looks like anything with
"TOKEN" will be masked. Related Issues
<a href="https://github.com/actions/runner/issues/643#issuecomment-823537871" class="external-link">here</a>
and
<a href="https://github.com/actions/runner/issues/475#issuecomment-742271143" class="external-link">here</a>.</p>
    </div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p><a href="https://docs.github.com/en/actions/using-workflows/workflow-commands-for-github-actions#masking-a-value-in-log" class="external-link">GitHub Docs</a></p></div>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span class="fu">octo_mask_value</span><span class="op">(</span><span class="st">"secret_token123"</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ::add-mask::secret_token123</span>
<span class="r-in"><span class="co"># The mask takes effect in the NEXT step</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="st">"Current token: secret_token123"</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "Current token: secret_token123"</span>
<span class="r-in"><span class="co"># Will log as</span></span>
<span class="r-in"><span class="co"># "Current token:***"</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/base/Sys.setenv.html" class="external-link">Sys.setenv</a></span><span class="op">(</span><span class="st">"SECRET_TOKEN"</span> <span class="op">=</span> <span class="st">"007"</span><span class="op">)</span></span>
<span class="r-in"><span class="fu">octo_mask_envvar</span><span class="op">(</span><span class="st">"SECRET_TOKEN"</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ::add-mask::$SECRET_TOKEN</span>
<span class="r-in"><span class="co"># The mask takes effect in the NEXT step</span></span>
<span class="r-in"><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Sys.getenv.html" class="external-link">Sys.getenv</a></span><span class="op">(</span><span class="st">"SECRET_TOKEN"</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "007"</span>
<span class="r-in"><span class="co"># Will log as</span></span>
<span class="r-in"><span class="co"># "***"</span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by <a href="https://jacob.wujciak.de" class="external-link">Jacob Wujciak-Jens</a>.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.5.</p>
</div>

      </footer></div>

  


  

  </body></html>

